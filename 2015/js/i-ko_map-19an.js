$(function(){function g(g,o,e){return"M -"+g/2+" "+o/2+"l "+g/2+" -"+o+" l "+g/2+" "+o+" q -"+g/2+" -"+e+" -"+g+" 0"}function o(g){var o=$("<div />").addClass("info_bubble").append($("<div />").addClass("img").append($("<img />").attr("src",g.src).attr("alt",g.title).attr("alt",g.title)).append($("<div />").addClass("title").text(g.title))).append(g.items.length?$("<div />").addClass("items").append(g.items.map(function(g){return $("<div />").addClass("item").html(g.item)})):null).append($("<div />").addClass("delete").html("&#10006;").click(function(){g.infoWindow.close(),ga("send","event","i-ko_map-19an","close_info_window")}));g.infoWindow.setContent(o.get(0)),g.infoWindow.open(t,g.marker)}function e(g){var o=Math.pow(10,2);s.find(".map .d").addClass("show").find("span").text(Math.round(google.maps.geometry.spherical.computeLength(g)/1e3*o)/o)}function n(g,e,n,a,L,l){if(m.push(g),window["markers_"+g]=a.map(function(e){return e.marker=new google.maps.Marker({draggable:!1,position:e.latLng,icon:e.icon}),e.infoWindow=new InfoBubble({margin:0,padding:0,content:"",arrowStyle:0,borderWidth:1,shadowStyle:1,borderRadius:2,minWidth:"auto",maxWidth:"auto",minHeight:"auto",maxHeight:"auto",borderColor:"rgba(39, 40, 34, .7)",backgroundClassName:""}),google.maps.event.addListener(e.marker,"click",function(){window["markers_"+g].forEach(function(g){g.infoWindow.close()}),o(e),ga("send","event","i-ko_map-19an","click_marker",e.title)}),e}),window["line_"+g]=new google.maps.Polyline({path:n,strokeColor:l,icons:e.map(function(g){return{icon:g,offset:"0%"}})}),window["line_"+g].setMap(t),window["markers_"+g].forEach(function(g){g.marker.setMap(t),g.infoWindow.close()}),t){var s=0;window["interval_"+g]=setInterval(function(){var o=window["line_"+g].get("icons").map(function(g){return g.offset=s*L+"%",g});window["line_"+g].set("icons",o),s=(s+1)%(100/L)},100)}}function a(){var o=(l.is(":visible")?parseFloat(l.height())+parseFloat(l.css("padding-top"))+parseFloat(l.css("padding-bottom")):0)+parseFloat(s.css("margin-top"))+parseFloat(p.css("margin-top"))+parseFloat(p.css("padding-top"))+parseFloat(p.find(".oa-jelly").height());s.css({height:"calc(100% - "+o+"px)"});var a=16,m=new google.maps.LatLng(23.569396231491233,120.3010703338623);$(window).width()<560&&(a=15,m=new google.maps.LatLng(23.572396231491233,120.3030703338623));var w={zoom:a,scaleControl:!0,navigationControl:!1,mapTypeControl:!1,zoomControl:!0,scrollwheel:!0,streetViewControl:!1,center:m};t=new google.maps.Map(L.get(0),w);var i=[{path:g(9,14,6),strokeColor:"rgba(50, 60, 140, 1)",strokeWeight:1,fillColor:"rgba(68, 77, 145, .85)",fillOpacity:1},{path:g(4.2,6.9,2.5),strokeColor:"rgba(255, 255, 255, 1)",strokeWeight:1,fillColor:"rgba(255, 255, 255, 1)",fillOpacity:1},{path:g(4.2,6.9,2.5),strokeColor:"rgba(255, 255, 255, 1)",strokeWeight:1,fillColor:"rgba(223, 93, 84, 1)",fillOpacity:1}],r=[new google.maps.LatLng(23.5675986899745,120.30457645654678),new google.maps.LatLng(23.567129916690583,120.3044938909054),new google.maps.LatLng(23.566197713875166,120.30433823506837),new google.maps.LatLng(23.565279027051094,120.30415575714119),new google.maps.LatLng(23.56454644757452,120.30401788651943),new google.maps.LatLng(23.564303051853095,120.30396558344364),new google.maps.LatLng(23.564584126052793,120.3023132549763),new google.maps.LatLng(23.56469211601026,120.3017869591713),new google.maps.LatLng(23.564774047807916,120.30175066163542),new google.maps.LatLng(23.565849223703406,120.30194369297033),new google.maps.LatLng(23.566551986566076,120.30207060277462),new google.maps.LatLng(23.566928935611838,120.30214293470385),new google.maps.LatLng(23.56737041860184,120.30221459608083),new google.maps.LatLng(23.56751380882504,120.30223596603878),new google.maps.LatLng(23.56778688365147,120.30228281698237),new google.maps.LatLng(23.567996651965988,120.30232631516469),new google.maps.LatLng(23.568209007019995,120.30237302184105),new google.maps.LatLng(23.568391116507264,120.30243127217295),new google.maps.LatLng(23.568556631028677,120.30186322669988),new google.maps.LatLng(23.568654604280155,120.30152544379234),new google.maps.LatLng(23.56871501904588,120.30152133276465),new google.maps.LatLng(23.568754969052858,120.30150389840605),new google.maps.LatLng(23.56879755985645,120.30147229473596),new google.maps.LatLng(23.56881925370217,120.30144002051361),new google.maps.LatLng(23.568992757344017,120.30152844569693),new google.maps.LatLng(23.56965703893541,120.3018157929182),new google.maps.LatLng(23.57054287231388,120.30225759913924),new google.maps.LatLng(23.57120769378032,120.30255742371082),new google.maps.LatLng(23.57155512501262,120.30180564692023),new google.maps.LatLng(23.571702809692173,120.30146760087018),new google.maps.LatLng(23.57193100678794,120.30088614435203),new google.maps.LatLng(23.571974208743548,120.3007653572322),new google.maps.LatLng(23.572158482602767,120.3001119196415),new google.maps.LatLng(23.57287264524525,120.29986247420311),new google.maps.LatLng(23.57364905591715,120.29959617724421),new google.maps.LatLng(23.574415628548874,120.29932384531503),new google.maps.LatLng(23.574630297931282,120.30004728348263),new google.maps.LatLng(23.574743559922183,120.3004233755828),new google.maps.LatLng(23.57485129044743,120.30078270387662),new google.maps.LatLng(23.57501679190762,120.30130765857712),new google.maps.LatLng(23.575300892093694,120.30219800770283),new google.maps.LatLng(23.57529000692184,120.3022247420788),new google.maps.LatLng(23.574528356774916,120.3025359660387),new google.maps.LatLng(23.574734858307618,120.3032373636961),new google.maps.LatLng(23.574582003739323,120.30341430177691),new google.maps.LatLng(23.574138092574774,120.30396692454815),new google.maps.LatLng(23.574484899233816,120.30417068471911),new google.maps.LatLng(23.57491897603183,120.30438785593515),new google.maps.LatLng(23.575136717135656,120.30450310320862),new google.maps.LatLng(23.575241374113745,120.30455800077925),new google.maps.LatLng(23.57528737122822,120.30459925532341),new google.maps.LatLng(23.57531274656825,120.30465817620757),new google.maps.LatLng(23.575328288530287,120.30472380261426),new google.maps.LatLng(23.575320476263233,120.30480216951378),new google.maps.LatLng(23.575302216061218,120.30495697937022),new google.maps.LatLng(23.57530054966024,120.30505479228509),new google.maps.LatLng(23.575309945785932,120.3051318180801),new google.maps.LatLng(23.575340852365695,120.30519945614355),new google.maps.LatLng(23.57539880062681,120.30528385801335),new google.maps.LatLng(23.575472113418126,120.30538167092823),new google.maps.LatLng(23.575509165674227,120.30544059181238),new google.maps.LatLng(23.575520298670476,120.30551254749298),new google.maps.LatLng(23.57601398566861,120.3058269487858),new google.maps.LatLng(23.576116182955513,120.30588989298349),new google.maps.LatLng(23.5762128488607,120.30593272061355),new google.maps.LatLng(23.576347618578108,120.30596817216883),new google.maps.LatLng(23.577020488997363,120.30609793961048),new google.maps.LatLng(23.577090112189733,120.30610925128462),new google.maps.LatLng(23.577643405761226,120.30609374086862),new google.maps.LatLng(23.578231727133563,120.30604403228767),new google.maps.LatLng(23.579582019746624,120.30590884387493),new google.maps.LatLng(23.579757170575377,120.30480578541756),new google.maps.LatLng(23.579771479498344,120.304646106267),new google.maps.LatLng(23.579772268005264,120.30457494001394),new google.maps.LatLng(23.579761994365516,120.30450511486538),new google.maps.LatLng(23.579335579062025,120.30312806367874),new google.maps.LatLng(23.57790977848896,120.30361957848072),new google.maps.LatLng(23.577801789039476,120.3036201613188),new google.maps.LatLng(23.576602312402013,120.30299780111318),new google.maps.LatLng(23.576314865630984,120.30287634344108),new google.maps.LatLng(23.57597272069701,120.30273409864913),new google.maps.LatLng(23.575702481348934,120.30262202870858),new google.maps.LatLng(23.575541022999516,120.30254616858974),new google.maps.LatLng(23.57541643397815,120.30247762799263),new google.maps.LatLng(23.57531687129653,120.30223824083805),new google.maps.LatLng(23.57532749657792,120.30221133103373),new google.maps.LatLng(23.575826715688663,120.30202885310655),new google.maps.LatLng(23.576238047556753,120.30187655003078),new google.maps.LatLng(23.57665613818569,120.30171418867121),new google.maps.LatLng(23.576854208607287,120.30164771628392),new google.maps.LatLng(23.57718564162585,120.30151888253704),new google.maps.LatLng(23.57750416749249,120.3013980954172),new google.maps.LatLng(23.57794683602244,120.30123238129636),new google.maps.LatLng(23.578600556217662,120.30099168419838),new google.maps.LatLng(23.57866648995454,120.30091113021376),new google.maps.LatLng(23.578411618355336,120.30010570924287),new google.maps.LatLng(23.578047967273683,120.29888789863594),new google.maps.LatLng(23.57790494720066,120.29833929917822),new google.maps.LatLng(23.57786307096686,120.29817938804626),new google.maps.LatLng(23.577701613628818,120.29762207140925),new google.maps.LatLng(23.577546301957852,120.29706475477224),new google.maps.LatLng(23.577381157021424,120.29649670929916),new google.maps.LatLng(23.577308812915682,120.29629411480437),new google.maps.LatLng(23.576991954862827,120.29566531221872),new google.maps.LatLng(23.576241203412735,120.29614090919495),new google.maps.LatLng(23.57647123290301,120.296540470624),new google.maps.LatLng(23.576631199880744,120.2969044927836),new google.maps.LatLng(23.57683611585405,120.29758527874947),new google.maps.LatLng(23.576503805147887,120.29770454933646),new google.maps.LatLng(23.576062713027063,120.2978593591929),new google.maps.LatLng(23.575723640541977,120.29799204082497),new google.maps.LatLng(23.575533911356615,120.29805364391814),new google.maps.LatLng(23.57538105710998,120.29810317707074),new google.maps.LatLng(23.575110816994766,120.29820233109012),new google.maps.LatLng(23.575035400437248,120.29821565442103),new google.maps.LatLng(23.574937244196654,120.2982497648718),new google.maps.LatLng(23.574829254566286,120.29829326305412),new google.maps.LatLng(23.57459404526033,120.2983836998942),new google.maps.LatLng(23.574184186832056,120.2985629439354),new google.maps.LatLng(23.574410355753276,120.29930725693703),new google.maps.LatLng(23.573643524562574,120.29958075454238),new google.maps.LatLng(23.572162784798977,120.30009113252163),new google.maps.LatLng(23.572137151368015,120.30010445585253),new google.maps.LatLng(23.572096152958423,120.30010637979512),new google.maps.LatLng(23.57206621736596,120.3001056215287),new google.maps.LatLng(23.57173686668935,120.30001536011696),new google.maps.LatLng(23.57144800369319,120.29994763433933)],d=[{latLng:r[0],icon:"img/icon/spotlight-poi_hdpi.png",src:"img/site/i-ko/start.jpg",title:"歲次乙未年 十九下午遊行起馬",items:[{item:"農曆三月十九下午遊行起馬"}]},{latLng:r[r.length-1],icon:"img/icon/spotlight-poi_hdpi.png",src:"img/site/i-ko/end.jpg",title:"歲次乙未年 十九下午遊行休息",items:[{item:"農曆三月十九下午遊行休息"}]}];n("19an",i,r,d,.5,"rgba(0, 130, 0, 1)"),$("#loading").fadeOut(function(){$(this).hide(function(){$(this).remove()})}),setTimeout(e.bind(this,r),1800)}var t=null,L=null,l=$("#sub_items"),s=$("#container"),p=$("#pagination"),m=[];L=$("#map"),google.maps.event.addDomListener(window,"load",a)});